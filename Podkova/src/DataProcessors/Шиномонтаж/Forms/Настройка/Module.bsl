
&НаКлиенте
Процедура ОК(Команда)
	ОКНаСервере();
	ОткрытьФорму("Обработка.Шиномонтаж.Форма.Форма");
	Закрыть();
КонецПроцедуры

&НаСервере
Процедура ОКНаСервере()
	НаборЗаписей = РегистрыСведений.ШМ_Кнопки.СоздатьНаборЗаписей();
	НаборЗаписей.Записать();
	
	НоваяЗапись = РегистрыСведений.ШМ_Кнопки.СоздатьМенеджерЗаписи();
    НоваяЗапись.ВысотаКнопки = ВысотаКнопки;
	НоваяЗапись.ШиринаКнопки = ШиринаКнопки;
	НоваяЗапись.КоличествоКолонок = КоличествоКолонок;
	НоваяЗапись.Записать();
	
	Константы.ШМ_ВыводитьТоварныйЧек.Установить(ВыводитьТоварныйЧек);
	Константы.ШМ_КоличествоБирок.Установить(КоличествоБирок);
	Константы.ШМ_Игла.Установить(Игла);
	Константы.ШМ_Домкрат.Установить(Домкрат);
	Константы.ШМ_ВизиткиСкидки.Установить(ВизиткиСкидки);
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	ВысотаКнопки = 10;
	ШиринаКнопки = 15;
	КоличествоКолонок = 5;
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ШМ_Кнопки.ШиринаКнопки,
		|	ШМ_Кнопки.ВысотаКнопки,
		|	ШМ_Кнопки.КоличествоКолонок
		|ИЗ
		|	РегистрСведений.ШМ_Кнопки КАК ШМ_Кнопки";
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Пока Выборка.Следующий() Цикл
		ВысотаКнопки = Выборка.ВысотаКнопки;
		ШиринаКнопки = Выборка.ШиринаКнопки;
		КоличествоКолонок = Выборка.КоличествоКолонок;
	КонецЦикла;
	ВыводитьТоварныйЧек = Константы.ШМ_ВыводитьТоварныйЧек.Получить();
	КоличествоБирок = Константы.ШМ_КоличествоБирок.Получить();
	Игла = Константы.ШМ_Игла.Получить();
	Домкрат = Константы.ШМ_Домкрат.Получить();
	ВизиткиСкидки = Константы.ШМ_ВизиткиСкидки.Получить();
КонецПроцедуры

&НаКлиенте
Процедура ПриЗакрытии(ЗавершениеРаботы)
	ОткрытьФорму("Обработка.Шиномонтаж.Форма.Форма");
КонецПроцедуры
